<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>
    <script src="apiKey.js"></script>
    <script src="index.js"></script>
  </head>
  <body>
    <article>
      <header>
        <h1>OpenWeatherMap Converter</h1>
        <p>This application converts Open Weather Map current weather data for any location you specify using API. The data is converted into the unified data model, which means the network called <i id="networkName">Open Weather Map</i> will be created under your account in Wappsto. The network can be accessed from "Networks and Data" tool or used by any other wapp. Once this application is installed, the background tasks will update values in the network every 15 minutes. Values are described below.</p>
      </header>
      <section>
        <h2>Current Location and Values</h2>
        <p>You can set location to retrieve weather data.</p>
        <label>Enter name of the town (Barcelona) or name + country code (eg.: "Barcelona, ES")</label>
        <input type="text" name="town" id="currentLocation" value="">
        <button onclick="setCurrentLocation()">Set</button>
        <ul id="currentWeather"></ul>
        <hr>
        <p>Open Wather Map API offers vast amount of data, but at the moment only following data is converted and added to Wappsto Open Weather Map network.</p>
        <h3>List of converted data into values:</h3>
        <ul id="integratedValues"></ul>
      </section>  <section>
      <header>
        <h2>API key</h2>
        <p>The key is required to retrieve data from Open Weather Map</p>
      </header>
      <h3>How to get it?</h3>
      <p>To get an API key you need to sign up <a href="http://openweathermap.org/appid" target="_blank">here</a>. Remember that activation of an API key takes 10 minutes for free accounts and up to 60 for tariff plans. If API key is not active or it is invalid, this application will not work.</p>
      <hr>
      <label>Enter API key to add new or modify existing</label>
      <input type="text" name="apiKey" id="apiKey"/>
      <button onclick="saveApiKey()">Save</button>
      <p>Saved API key: <strong id="configApiKey"></strong></p>
      </section>
      <footer>
        <p>Currently this application supports in our opinion most useful data. If you have some special requirements or feedback, you can contact us by email <a href="mailto:developer@seluxit.com">developer@seluxit.com</a>.</p>
      </footer>
    </article>
    <div class="statusPanel" id="status" >
      <p id="statusMessage"></p>
    </div>
  </body>
</html>
